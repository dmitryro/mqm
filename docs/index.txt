Skeleton Project Documentation
==============================

Setup a project for development
-------------------------------

There are a few simple steps you need to follow to setup this project:

1. Checkout the source code
2. Make sure your python is installed correctly (see :doc:`install python
<install_python>`)
3. Run::

    fab devinit

``fab devinit``
---------------

After you have created a new checkout go to the directory and run::

    fab devinit

This will run a couple of things for you:

* It will set up a virtualenv for you
* It installs all the python dependecies into the virtualenv
* It creates a ``local_settings.py`` file if non exists yet
* It installes a sqlite db ready to use and runs ``syncdb``
* It creates a superuser for the project called *admin* with password
  *admin*.

Working on a project
--------------------

Djangos management command can be found at the root of the project. Run
commands like this::

    python manage.py runserver

nginx config
------------

There is a file called ``config/nginx.conf``. Use this to configure nginx.
After you customized ``nginx.conf``, commit and update the server. You can now
restart nginx to take the changes into effect.

Deploying to the server
-----------------------

After you have made some changes to the project locally, follow these steps to
put them on the server:

1. Make sure that you've committed the changed files to SVN.
2. Open a terminal and change the directory to your project's directory (where
   the ``fabfile.py`` is located).
3. Run: ``fab update`` -- this will update the SVN checkout on the server with
   your changes.
4. Run: ``fab restart`` -- this will restart the website's process so that
   your changes are taken into account.

You can shortcut the third and fourth step my combining them into one command:
``fab update restart``.

By default ``fab`` uses the username from your local account for the server
login. However if you have a different username locally, then pass the correct
one to ``fab`` via the ``-u`` option::

    fab -u serveruser update restart

    or for angelo:
    fab -u angelo update restart
